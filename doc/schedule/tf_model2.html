<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of tf_model2</title>
  <meta name="keywords" content="tf_model2">
  <meta name="description" content="tucker_model">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html schedule -->
<h1>tf_model2
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>tucker_model</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> tucker_model</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="GCTFModel.html" class="code" title="">GCTFModel</a>	</li><li><a href="TFDimension.html" class="code" title="">TFDimension</a>	</li><li><a href="TFFactor.html" class="code" title="">TFFactor</a>	</li><li><a href="TFModel.html" class="code" title="">TFModel</a>	</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="dynamic_chain_gtm2.html" class="code" title="">dynamic_chain_gtm2</a>	</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 
0002 <span class="comment">% tucker_model</span>
0003 
0004 dim_i=<a href="TFDimension.html" class="code" title="">TFDimension</a>;
0005 dim_i.name=<span class="string">'i'</span>;
0006 dim_i.cardinality=5;
0007 
0008 dim_j=<a href="TFDimension.html" class="code" title="">TFDimension</a>;
0009 dim_j.name=<span class="string">'j'</span>;
0010 dim_j.cardinality=6;
0011 
0012 dim_k=<a href="TFDimension.html" class="code" title="">TFDimension</a>;
0013 dim_k.name=<span class="string">'k'</span>;
0014 dim_k.cardinality=7;
0015 
0016 dim_p=<a href="TFDimension.html" class="code" title="">TFDimension</a>;
0017 dim_p.name=<span class="string">'p'</span>;
0018 dim_p.cardinality=8;
0019 
0020 dim_q=<a href="TFDimension.html" class="code" title="">TFDimension</a>;
0021 dim_q.name=<span class="string">'q'</span>;
0022 dim_q.cardinality=9;
0023 
0024 dim_r=<a href="TFDimension.html" class="code" title="">TFDimension</a>;
0025 dim_r.name=<span class="string">'r'</span>;
0026 dim_r.cardinality=10;
0027 
0028 
0029 
0030 A=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0031 A.name=<span class="string">'A'</span>;
0032 A.isLatent=1;
0033 A.dims=[dim_i dim_p];
0034 
0035 B=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0036 B.name=<span class="string">'B'</span>;
0037 B.isLatent=1;
0038 B.dims=[dim_j dim_q];
0039 
0040 C=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0041 C.name=<span class="string">'C'</span>;
0042 C.isLatent=1;
0043 C.isInput=1;
0044 C.dims=[dim_k dim_r];
0045 
0046 G=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0047 G.name=<span class="string">'G'</span>;
0048 G.isLatent=1;
0049 G.dims=[dim_p dim_q dim_r];
0050 
0051 X=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0052 X.name=<span class="string">'X'</span>;
0053 X.isObserved=1;
0054 X.dims=[dim_i dim_j dim_k];
0055 
0056 
0057 tucker_model = <a href="TFModel.html" class="code" title="">TFModel</a>;
0058 tucker_model.name = <span class="string">'Tucker3'</span>;
0059 tucker_model.factors = [A B C G X];
0060 tucker_model.dims=[dim_i dim_j dim_k dim_p dim_q dim_r];
0061 
0062 
0063 all_dims=tucker_model.dims;
0064 A.rand_init(all_dims, 100);
0065 B.rand_init(all_dims, 100);
0066 C.rand_init(all_dims, 100);
0067 G.rand_init(all_dims, 100);
0068 X.rand_init(all_dims, 100);
0069 
0070 
0071 
0072 <span class="comment">% parafac model</span>
0073 
0074 p_A=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0075 p_A.name=<span class="string">'p_A'</span>;
0076 p_A.isLatent=1;
0077 p_A.dims=[dim_i dim_r];
0078 p_A.rand_init(all_dims, 100);
0079 
0080 p_B=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0081 p_B.name=<span class="string">'p_B'</span>;
0082 p_B.isLatent=1;
0083 p_B.dims=[dim_j dim_r];
0084 p_B.rand_init(all_dims, 100);
0085 
0086 p_C=<a href="TFFactor.html" class="code" title="">TFFactor</a>;
0087 p_C.name=<span class="string">'p_C'</span>;
0088 p_C.isLatent=1;
0089 p_C.dims=[dim_k dim_r];
0090 p_C.rand_init(all_dims, 100);
0091 
0092 parafac_model = <a href="TFModel.html" class="code" title="">TFModel</a>;
0093 parafac_model.name = <span class="string">'Parafac'</span>;
0094 parafac_model.factors = [p_A p_B p_C X];
0095 parafac_model.dims=[dim_i dim_j dim_k dim_r];
0096 
0097 
0098 
0099 
0100 <span class="comment">% GCTF model from tucker + parafac</span>
0101 gctfmodel=<a href="GCTFModel.html" class="code" title="">GCTFModel</a>;
0102 gctfmodel.tfmodels=[tucker_model parafac_model];
0103 
0104 
0105 
0106 <span class="comment">% VISUALIZE</span>
0107 
0108 <span class="keyword">if</span> exist(<span class="string">'VISUALIZE'</span>)
0109     [dn fn edges] = tucker_model.print();
0110     system([<span class="string">'python fgplot.py &quot;'</span> dn <span class="string">'&quot; &quot;'</span> fn <span class="string">'&quot; &quot;'</span> edges <span class="string">'&quot;'</span>  ]);
0111 
0112     pause
0113 
0114     [dn fn edges] = parafac_model.print();
0115     system([<span class="string">'python fgplot.py &quot;'</span> dn <span class="string">'&quot; &quot;'</span> fn <span class="string">'&quot; &quot;'</span> edges <span class="string">'&quot;'</span>  ]);
0116 
0117     pause
0118 
0119     <span class="comment">% visualize GCTF model</span>
0120     [dn fn edges] = gctfmodel.print();
0121     system([<span class="string">'python fgplot.py &quot;'</span> dn <span class="string">'&quot; &quot;'</span> fn <span class="string">'&quot; &quot;'</span> edges <span class="string">'&quot;'</span>  ]);
0122 
0123 <span class="keyword">end</span>
0124 
0125</pre></div>
<hr><address>Generated on Tue 10-Jul-2012 08:47:10 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>